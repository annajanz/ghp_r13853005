stat_summary(aes(group = conc), fun = mean, geom = "line", size = 1.6) +
theme_minimal()
ggplot(devtime, aes(x=day, y = cum_pupae, color = as.factor(conc))) +
geom_line(aes(group = interaction(rep, conc)), alpha = 0.4) +
stat_summary(aes(group = conc), fun = sum, geom = "line", size = 1.6) +
theme_minimal()
ggplot(devtime, aes(x=day, y = cum_pupae, color = as.factor(conc))) +
geom_line(aes(group = interaction(rep, conc)), alpha = 0.4) +
stat_summary(aes(group = conc), fun = mean, geom = "line", size = 1.6) +
theme_minimal()
ggplot(devtime, aes(x=day, y = cum_adults, color = as.factor(conc))) +
geom_line(aes(group = interaction(rep, conc)), alpha = 0.4) +
stat_summary(aes(group = conc), fun = mean, geom = "line", size = 1.6) +
theme_minimal()
devtime <- devtime %>%
arrange(conc, rep, date) %>%
mutate(
cum_pupae = cumsum(new_pupae),
cum_adults = cumsum(adults),
cum_pupae_percent = case_when(
conc == "0.2" ~ cum_pupae / 20
)
) %>%
ungroup ()
View(devtime)
ggplot(devtime, aes(x=day, y = cum_adults, color = as.factor(conc))) +
geom_line(aes(group = interaction(rep, conc)), alpha = 0.4) +
stat_summary(aes(group = conc), fun = mean, geom = "line", size = 1.6) +
theme_minimal()
ggplot(devtime, aes(x=day, y = cum_pupae, color = as.factor(conc))) +
geom_line(aes(group = interaction(rep, conc)), alpha = 0.4) +
stat_summary(aes(group = conc), fun = mean, geom = "line", size = 1.6) +
theme_minimal()
devtime <- devtime %>%
arrange(conc, rep, date) %>%
mutate(
cum_pupae = cumsum(new_pupae),
cum_adults = cumsum(adults)) %>%
ungroup ()
devtime <- devtime %>%
arrange(conc, rep, date) %>%
group_by(conc, rep) %>%
mutate(
prev_pupae = lag(pupae),
new_pupae = case_when(
is.na(prev_pupae) ~ pupae,
TRUE ~ pupae - (prev_pupae - adults)
)
)
devtime <- devtime %>%
mutate(new_pupae = ifelse(new_pupae < 0, 0, new_pupae))
devtime <- devtime %>%
arrange(conc, rep, date) %>%
mutate(
cum_pupae = cumsum(new_pupae),
cum_adults = cumsum(adults)) %>%
ungroup ()
devtime <- devtime %>%
arrange(conc, rep, date) %>%
mutate(
cum_pupae = cumsum(new_pupae),
cum_adults = cumsum(adults)) %>%
cum_pupae_percent = case_when(
conc == "0.2" ~ cum_pupae / 20)
library(tidyverse)
## development time
devtime <- read.csv("devtime.csv")
devtime$date <- as.Date(devtime$date)
devtime <- devtime %>% mutate(
day = date - date[1]
)
head(devtime)
#calculate number of new pupae per day
#new pupae = today's pupae - previous day's pupae - today's adults
devtime <- devtime %>%
arrange(conc, rep, date) %>%
group_by(conc, rep) %>%
mutate(
prev_pupae = lag(pupae),
new_pupae = case_when(
is.na(prev_pupae) ~ pupae,
TRUE ~ pupae - (prev_pupae - adults)
)
)
#max value of new pupae = 0
devtime <- devtime %>%
mutate(new_pupae = ifelse(new_pupae < 0, 0, new_pupae))
#cumulative stats
devtime <- devtime %>%
arrange(conc, rep, date) %>%
mutate(
cum_pupae = cumsum(new_pupae),
cum_adults = cumsum(adults)) %>%
cum_pupae_percent = case_when(
conc == "0.2" ~ cum_pupae / 20)
devtime <- devtime %>%
arrange(conc, rep, date) %>%
mutate(
cum_pupae = cumsum(new_pupae),
cum_adults = cumsum(adults)) %>%
ungroup ()
devtime <- devtime %>%
arrange(conc, rep, date) %>%
mutate(
cum_pupae = cumsum(new_pupae),
cum_adults = cumsum(adults)) %>%
ungroup ()
ggplot(devtime, aes(x=day, y = cum_pupae, color = as.factor(conc))) +
geom_line(aes(group = interaction(rep, conc)), alpha = 0.4) +
stat_summary(aes(group = conc), fun = mean, geom = "line", size = 1.6) +
theme_minimal()
ggplot(devtime, aes(x=day, y = cum_adults, color = as.factor(conc))) +
geom_line(aes(group = interaction(rep, conc)), alpha = 0.4) +
stat_summary(aes(group = conc), fun = mean, geom = "line", size = 1.6) +
theme_minimal()
library(tidyverse)
## development time
devtime <- read.csv("devtime.csv")
devtime$date <- as.Date(devtime$date)
devtime <- devtime %>% mutate(
day = date - date[1]
)
head(devtime)
#calculate number of new pupae per day
#new pupae = today's pupae - previous day's pupae - today's adults
devtime <- devtime %>%
arrange(conc, rep, date) %>%
group_by(conc, rep) %>%
mutate(
prev_pupae = lag(pupae),
new_pupae = case_when(
is.na(prev_pupae) ~ pupae,
TRUE ~ pupae - (prev_pupae - adults)
)
)
#max value of new pupae = 0
devtime <- devtime %>%
mutate(new_pupae = ifelse(new_pupae < 0, 0, new_pupae))
#cumulative stats
devtime <- devtime %>%
arrange(conc, rep, date) %>%
mutate(
cum_pupae = cumsum(new_pupae),
cum_adults = cumsum(adults)) %>%
ungroup ()
#plot cumulative pupae
ggplot(devtime, aes(x=day, y = cum_pupae, color = as.factor(conc))) +
geom_line(aes(group = interaction(rep, conc)), alpha = 0.4) +
stat_summary(aes(group = conc), fun = mean, geom = "line", size = 1.6) +
theme_minimal()
larvae_start <- tibble(
conc = c(0.2, 0.4, 0.6),
initial_larvae = c(20, 40, 60)
)
library(tidyverse)
## development time
devtime <- read.csv("devtime.csv")
devtime$date <- as.Date(devtime$date)
devtime <- devtime %>% mutate(
day = date - date[1]
)
#set number of initial larvae in each concentration to help with percent plotting.
#need to do before running code if adding new concentrations!!!
larvae_start <- tibble(
conc = c(0.2, 0.4, 0.6),
initial_larvae = c(20, 40, 60)
)
#calculate number of new pupae per day
#new pupae = today's pupae - previous day's pupae - today's adults
devtime <- devtime %>%
arrange(conc, rep, date) %>%
group_by(conc, rep) %>%
mutate(
prev_pupae = lag(pupae),
new_pupae = case_when(
is.na(prev_pupae) ~ pupae,
TRUE ~ pupae - (prev_pupae - adults)
)
)
#max value of new pupae = 0
devtime <- devtime %>%
mutate(new_pupae = ifelse(new_pupae < 0, 0, new_pupae))
#cumulative stats
devtime <- devtime %>%
left_join(larvae_start, by = "conc") %>%
arrange(conc, rep, date) %>%
group_by(conc, rep) %>%
mutate(
cum_pupae = cumsum(new_pupae),
cum_adults = cumsum(adults),
pupae_percent = cum_pupae / initial_larvae * 100,
adults_percent = cum_adults / initial_larvae * 100
) %>%
ungroup()
ggplot(devtime, aes(x=day, y = cum_pupae, color = as.factor(conc))) +
geom_line(aes(group = interaction(rep, conc)), alpha = 0.4) +
stat_summary(aes(group = conc), fun = mean, geom = "line", size = 1.6) +
theme_minimal()
ggplot(devtime, aes(x=day, y = cum_adults, color = as.factor(conc))) +
geom_line(aes(group = interaction(rep, conc)), alpha = 0.4) +
stat_summary(aes(group = conc), fun = mean, geom = "line", size = 1.6) +
theme_minimal()
ggplot(devtime, aes(x=day, y = pupae_percent, color = as.factor(conc))) +
geom_line(aes(group = interaction(rep, conc)), alpha = 0.4) +
stat_summary(aes(group = conc), fun = mean, geom = "line", size = 1.6) +
theme_minimal()
ggplot(devtime, aes(x=day, y = adult_percent, color = as.factor(conc))) +
geom_line(aes(group = interaction(rep, conc)), alpha = 0.4) +
stat_summary(aes(group = conc), fun = mean, geom = "line", size = 1.6) +
theme_minimal()
ggplot(devtime, aes(x=day, y = adults_percent, color = as.factor(conc))) +
geom_line(aes(group = interaction(rep, conc)), alpha = 0.4) +
stat_summary(aes(group = conc), fun = mean, geom = "line", size = 1.6) +
theme_minimal()
ggplot(devtime, aes(x=day, y = pupae_percent, color = as.factor(conc))) +
geom_line(aes(group = interaction(rep, conc)), alpha = 0.4) +
stat_summary(aes(group = conc), fun = mean, geom = "line", size = 1.6) +
theme_minimal()
ggplot(devtime, aes(x=day, y = cum_pupae, color = as.factor(conc))) +
geom_line(aes(group = interaction(rep, conc)), alpha = 0.4) +
stat_summary(aes(group = conc), fun = mean, geom = "line", size = 1.6) +
theme_minimal()
ggplot(devtime, aes(x=day, y = cum_adults, color = as.factor(conc))) +
geom_line(aes(group = interaction(rep, conc)), alpha = 0.4) +
stat_summary(aes(group = conc), fun = mean, geom = "line", size = 1.6) +
theme_minimal()
ggplot(devtime, aes(x=day, y = pupae_percent, color = as.factor(conc))) +
geom_line(aes(group = interaction(rep, conc)), alpha = 0.4) +
stat_summary(aes(group = conc), fun = mean, geom = "line", size = 1.6) +
theme_minimal()
ggplot(devtime, aes(x=day, y = adults_percent, color = as.factor(conc))) +
geom_line(aes(group = interaction(rep, conc)), alpha = 0.4) +
stat_summary(aes(group = conc), fun = mean, geom = "line", size = 1.6) +
theme_minimal()
ggplot(devtime, aes(x=day, y = pupae_percent, color = as.factor(conc))) +
geom_line(aes(group = interaction(rep, conc)), alpha = 0.4) +
stat_summary(aes(group = conc), fun = mean, geom = "line", size = 1.6) +
theme_minimal()
#set number of initial larvae in each concentration to help with percent plotting.
larvae_start <- tibble(
conc = c(0.2, 0.4, 0.6),
initial_larvae = c(20, 40, 60)
)
#set the setup date of the experiment (not the first day in spreadsheet)
day0 <- as.Date(2025-03-04)
devtime <- read.csv("devtime.csv")
devtime$date <- as.Date(devtime$date)
devtime <- devtime %>% mutate(
day = date - date[1],
start_date = day0
)
day0 <- as.Date(2025-03-04)
devtime <- read.csv("devtime.csv")
devtime$date <- as.Date(devtime$date)
devtime <- devtime %>% mutate(
day = date - day0
)
library(tidyverse)
## development time
# BEFORE RUNNING CODE FOR NEW DATA!!! do these two things!
#set number of initial larvae in each concentration to help with percent plotting.
larvae_start <- tibble(
conc = c(0.2, 0.4, 0.6),
initial_larvae = c(20, 40, 60)
)
#set the setup date of the experiment (not the first day in spreadsheet)
day0 <- as.Date(2025-03-04)
devtime <- read.csv("devtime.csv")
devtime$date <- as.Date(devtime$date)
devtime <- devtime %>% mutate(
day = date - day0
)
#calculate number of new pupae per day
#new pupae = today's pupae - previous day's pupae - today's adults
devtime <- devtime %>%
arrange(conc, rep, date) %>%
group_by(conc, rep) %>%
mutate(
prev_pupae = lag(pupae),
new_pupae = case_when(
is.na(prev_pupae) ~ pupae,
TRUE ~ pupae - (prev_pupae - adults)
)
)
#max value of new pupae = 0
devtime <- devtime %>%
mutate(new_pupae = ifelse(new_pupae < 0, 0, new_pupae))
#cumulative stats
devtime <- devtime %>%
left_join(larvae_start, by = "conc") %>%
arrange(conc, rep, date) %>%
group_by(conc, rep) %>%
mutate(
cum_pupae = cumsum(new_pupae),
cum_adults = cumsum(adults),
pupae_percent = cum_pupae / initial_larvae * 100,
adults_percent = cum_adults / initial_larvae * 100
) %>%
ungroup()
#plot cumulative pupae
ggplot(devtime, aes(x=day, y = cum_pupae, color = as.factor(conc))) +
geom_line(aes(group = interaction(rep, conc)), alpha = 0.4) +
stat_summary(aes(group = conc), fun = mean, geom = "line", size = 1.6) +
theme_minimal()
View(devtime)
devtime <- read.csv("devtime.csv")
devtime$date <- as.Date(devtime$date)
devtime <- devtime %>% mutate(
day = date - 2025-03-04
)
devtime <- read.csv("devtime.csv")
devtime$date <- as.Date(devtime$date)
devtime <- devtime %>% mutate(
day = date - as.Date(2025-03-04)
)
experiment_start <- as.Date(2025-03-04)
devtime <- read.csv("devtime.csv")
devtime$date <- as.Date(devtime$date)
devtime <- devtime %>% mutate(
mutate(day = as.numeric(date - experiment_start))
)
library(tidyverse)
## development time
# BEFORE RUNNING CODE FOR NEW DATA!!! do these two things!
#set number of initial larvae in each concentration to help with percent plotting.
larvae_start <- tibble(
conc = c(0.2, 0.4, 0.6),
initial_larvae = c(20, 40, 60)
)
#set the setup date of the experiment (not the first day in spreadsheet)
experiment_start <- as.Date(2025-03-04)
devtime <- read.csv("devtime.csv")
devtime$date <- as.Date(devtime$date)
devtime <- devtime %>% mutate(
mutate(day = as.numeric(date - experiment_start))
)
library(tidyverse)
## development time
# BEFORE RUNNING CODE FOR NEW DATA!!! do these two things!
#set number of initial larvae in each concentration to help with percent plotting.
larvae_start <- tibble(
conc = c(0.2, 0.4, 0.6),
initial_larvae = c(20, 40, 60)
)
#set the setup date of the experiment (not the first day in spreadsheet)
experiment_start <- as.Date("2025-03-04")
devtime <- read.csv("devtime.csv")
devtime$date <- as.Date(devtime$date)
devtime <- devtime %>%
mutate(day = as.numeric(date - experiment_start))
)
library(tidyverse)
## development time
# BEFORE RUNNING CODE FOR NEW DATA!!! do these two things!
#set number of initial larvae in each concentration to help with percent plotting.
larvae_start <- tibble(
conc = c(0.2, 0.4, 0.6),
initial_larvae = c(20, 40, 60)
)
#set the setup date of the experiment (not the first day in spreadsheet)
experiment_start <- as.Date("2025-03-04")
devtime <- read.csv("devtime.csv")
devtime$date <- as.Date(devtime$date)
devtime <- devtime %>%
mutate(day = as.numeric(date - experiment_start))
library(tidyverse)
## development time
# BEFORE RUNNING CODE FOR NEW DATA!!! do these two things!
#set number of initial larvae in each concentration to help with percent plotting.
larvae_start <- tibble(
conc = c(0.2, 0.4, 0.6),
initial_larvae = c(20, 40, 60)
)
#set the setup date of the experiment (not the first day in spreadsheet)
experiment_start <- as.Date("2025-03-04")
devtime <- read.csv("devtime.csv")
devtime$date <- as.Date(devtime$date)
devtime <- devtime %>%
mutate(day = as.numeric(date - experiment_start))
#calculate number of new pupae per day
#new pupae = today's pupae - previous day's pupae - today's adults
devtime <- devtime %>%
arrange(conc, rep, date) %>%
group_by(conc, rep) %>%
mutate(
prev_pupae = lag(pupae),
new_pupae = case_when(
is.na(prev_pupae) ~ pupae,
TRUE ~ pupae - (prev_pupae - adults)
)
)
#max value of new pupae = 0
devtime <- devtime %>%
mutate(new_pupae = ifelse(new_pupae < 0, 0, new_pupae))
#cumulative stats
devtime <- devtime %>%
left_join(larvae_start, by = "conc") %>%
arrange(conc, rep, date) %>%
group_by(conc, rep) %>%
mutate(
cum_pupae = cumsum(new_pupae),
cum_adults = cumsum(adults),
pupae_percent = cum_pupae / initial_larvae * 100,
adults_percent = cum_adults / initial_larvae * 100
) %>%
ungroup()
#plot cumulative pupae
ggplot(devtime, aes(x=day, y = cum_pupae, color = as.factor(conc))) +
geom_line(aes(group = interaction(rep, conc)), alpha = 0.4) +
stat_summary(aes(group = conc), fun = mean, geom = "line", size = 1.6) +
theme_minimal()
#plot cumulative pupae as percent
ggplot(devtime, aes(x=day, y = pupae_percent, color = as.factor(conc))) +
geom_line(aes(group = interaction(rep, conc)), alpha = 0.4) +
stat_summary(aes(group = conc), fun = mean, geom = "line", size = 1.6) +
theme_minimal()
ggplot(data=winglength, aes(x=conc, y=length, color=conc)) +
geom_boxplot() +
geom_jitter(width=0.1) +
theme_minimal() +
labs(x = "concentration (larvae/mL)", y = "wing length (mm)")
#plot cumulative pupae as percent
ggplot(devtime, aes(x=day, y = pupae_percent, color = as.factor(conc))) +
geom_line(aes(group = interaction(rep, conc)), alpha = 0.4) +
stat_summary(aes(group = conc), fun = mean, geom = "line", size = 1.6) +
theme_minimal()
#plot cumulative adults as percent
ggplot(devtime, aes(x=day, y = adults_percent, color = as.factor(conc))) +
geom_line(aes(group = interaction(rep, conc)), alpha = 0.4) +
stat_summary(aes(group = conc), fun = mean, geom = "line", size = 1.6) +
theme_minimal()
#plot cumulative pupae as percent
ggplot(devtime, aes(x=day, y = pupae_percent, color = as.factor(conc))) +
geom_line(aes(group = interaction(rep, conc)), alpha = 0.4) +
stat_summary(aes(group = conc), fun = mean, geom = "line", size = 1.6) +
theme_minimal()
ggplot(devtime, aes(x=day, y = adults_percent, color = as.factor(conc))) +
geom_line(aes(group = interaction(rep, conc)), alpha = 0.4) +
stat_summary(aes(group = conc), fun = mean, geom = "line", size = 1.6) +
theme_minimal()
ggplot(devtime, aes(x=day, y = pupae_percent, color = as.factor(conc))) +
geom_line(aes(group = interaction(rep, conc)), alpha = 0.4) +
stat_summary(aes(group = conc), fun = mean, geom = "line", size = 1.6) +
labs(x = "day", y = "cumulative percent of adults emerged")
theme_minimal()
ggplot(devtime, aes(x=day, y = pupae_percent, color = as.factor(conc))) +
geom_line(aes(group = interaction(rep, conc)), alpha = 0.4) +
stat_summary(aes(group = conc), fun = mean, geom = "line", size = 1.6) +
labs(x = "day", y = "cumulative percent of adults emerged") +
theme_minimal()
ggplot(devtime, aes(x=day, y = pupae_percent, color = as.factor(conc))) +
geom_line(aes(group = interaction(rep, conc)), alpha = 0.4) +
stat_summary(aes(group = conc), fun = mean, geom = "line", size = 1.6) +
labs(x = "day", y = "cumulative percent of adults emerged", conc = "concentration (larvae/mL)") +
theme_minimal()
ggplot(devtime, aes(x=day, y = pupae_percent, color = as.factor(conc))) +
geom_line(aes(group = interaction(rep, conc)), alpha = 0.4) +
stat_summary(aes(group = conc), fun = mean, geom = "line", size = 1.6) +
labs(x = "day", y = "cumulative percent of adults emerged", conc = "concentration (larvae/mL)") +
theme_minimal()
ggplot(devtime, aes(x=day, y = pupae_percent, color = as.factor(conc))) +
geom_line(aes(group = interaction(rep, conc)), alpha = 0.4) +
stat_summary(aes(group = conc), fun = mean, geom = "line", size = 1.6) +
labs(x = "day", y = "cumulative percent of adults emerged", color = "Concentration (mg/L)") +
theme_minimal()
ggplot(devtime, aes(x=day, y = pupae_percent, color = as.factor(conc))) +
geom_line(aes(group = interaction(rep, conc)), alpha = 0.4) +
stat_summary(aes(group = conc), fun = mean, geom = "line", size = 1.6) +
labs(x = "day", y = "cumulative percent adults emerged", color = "concentration (mg/L)") +
theme_minimal()
ggplot(devtime, aes(x=day, y = adults_percent, color = as.factor(conc))) +
geom_line(aes(group = interaction(rep, conc)), alpha = 0.4) +
stat_summary(aes(group = conc), fun = mean, geom = "line", size = 1.6) +
labs(x = "day", y = "cumulative percent adults emerged", color = "concentration (mg/L)") +
theme_minimal()
ggplot(devtime, aes(x=day, y = pupae_percent, color = as.factor(conc))) +
geom_line(aes(group = interaction(rep, conc)), alpha = 0.4) +
stat_summary(aes(group = conc), fun = mean, geom = "line", size = 1.6) +
labs(x = "day", y = "cumulative percent pupae", color = "concentration (mg/L)") +
theme_minimal()
ggplot(devtime, aes(x=day, y = adults_percent, color = as.factor(conc))) +
geom_line(aes(group = interaction(rep, conc)), alpha = 0.4) +
stat_summary(aes(group = conc), fun = mean, geom = "line", size = 1.6) +
labs(x = "day", y = "cumulative percent adults emerged", color = "concentration (mg/L)") +
theme_minimal()
ggplot(devtime, aes(x=day, y = pupae_percent, color = as.factor(conc))) +
geom_line(aes(group = interaction(rep, conc)), alpha = 0.4) +
stat_summary(aes(group = conc), fun = mean, geom = "line", size = 1.6) +
labs(x = "day", y = "cumulative percent pupae", color = "concentration (mg/L)") +
theme_minimal()
ggplot(devtime, aes(x=day, y = adults_percent, color = as.factor(conc))) +
geom_line(aes(group = interaction(rep, conc)), alpha = 0.4) +
stat_summary(aes(group = conc), fun = mean, geom = "line", size = 1.6) +
labs(x = "day", y = "cumulative percent adults emerged", color = "concentration (mg/L)") +
theme_minimal()
library(tidyverse)
df <- read.csv("dengue_assignment.csv")
setwd("~/Documents/GitHub/ghp_r13853005")
df <- read.csv("dengue_assignment.csv")
head(df)
View(df)
nrow(df[df$year == '2014'])
df <- read.csv('dengue_assignment.csv')
head(df)
nrow(df[df$year == '2014'])
nrow(df[year == '2014'])
library(dplyr)
df %>% count(year)
length(which(df$year == 2014))
df <- read.csv('dengue_assignment.csv')
length(which(df$year == 2014))
df %>% count(year)
